#!/bin/bash
# DO NOT EDIT THIS FILE

print_help_and_exit () {
  echo "$(basename $0) [word file] [meaning file]"
  exit $1
}

wordfile=/lnk/D/git/notification-srs/vocab-files/vocab-word-30m.txt
meaningfile=/lnk/D/git/notification-srs/vocab-files/vocab-meaning-30m.txt

if [[ -z ${1+x} ]]; then print_help_and_exit 1; else wordfile="$1"; fi
if [[ -z ${2+x} ]]; then print_help_and_exit 1; else meaningfile="$2"; fi

mapfile -t wordarray < "$wordfile"
mapfile -t meaningarray < "$meaningfile"
size=${#wordarray[@]}

rand=$(( ( RANDOM % size )  + 1 ))

RED='\033[1;33m'
PURPLE='\033[0;35m'
NC='\033[0m' # No Color
bold=$(tput bold)
normal=$(tput sgr0)
printf "${bold}単語：${RED}${wordarray[rand-1]}${NC}\n"
printf "${bold}意味：${PURPLE}${meaningarray[rand-1]}${NC}\n"
printf "\n"

exit 0
